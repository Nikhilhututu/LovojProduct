{"version":3,"sources":["component/Web3D.jsx","component/UI.jsx","App.js","reportWebVitals.js","index.js"],"names":["threeContainer","mShirtObj","Web3D","useRef","React","useEffect","current","Shirt3d","createElement","Wrapper","id","_classCallCheck","this","document","getElementById","scene","camera","render","textureLoader","glbLoader","dirLight","hemiSphereLight","orbitController","canvasW","canvasH","shirtRoot","init","_createClass","key","value","_this","clientWidth","clientHeight","THREE","position","set","alpha","antialias","preserveDrawingBuffer","outputColorSpace","setPixelRatio","window","devicePixelRatio","setClearColor","setSize","shadowMap","enabled","type","appendChild","domElement","initLight","loadAsset","initOrbitController","setAnimationLoop","renderScene","addEventListener","resize","shadow","mapSize","width","height","near","far","add","OrbitControls","enablePan","minDistance","maxDistance","update","aspect","updateProjectionMatrix","_this2","GLTFLoader","planGeometry","maleMesh","name","texture","load","colorSpace","maleMat","map","alphaTest","material","gltf","traverse","child","isMesh","receiveShadow","includes","visible","normalMap","console","log","scale","z","isFull","isNormalCollar","tex","_this3","wrapS","wrapT","magFilter","minFilter","repeat","applyTexture","_this4","color","metalness","roughness","flipY","needsUpdate","styled","section","_templateObject","_taggedTemplateLiteral","uiBtn","UI","_React$useState","useState","_React$useState2","_slicedToArray","setFull","_React$useState3","_React$useState4","setType","_React$useState5","_React$useState6","setCollar","onClickShirtType","changeShirt","onClickCollarType","changeCollar","className","src","index","onClick","e","querySelectorAll","forEach","i","classList","remove","target","getElementsByClassName","style","top","display","onClickIcon","concat","alt","accept","onChange","url","URL","createObjectURL","files","changeShirtTexture","changeCollarTexture","htmlFor","changeButtonColor","App","Fragment","reportWebVitals","onPerfEntry","Function","__webpack_require__","then","bind","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","StrictMode"],"mappings":"+JAKIA,EACAC,yGAaWC,EAZD,WAQV,OAPAF,EAAiBG,iBAAO,MACxBC,IAAMC,UAAU,WACTL,EAAeM,UAEdL,EAAY,IAAIM,IAEtB,IAEEH,IAAAI,cAACC,EAAO,CAACC,GAAG,kBAKPH,EAAO,WAChB,SAAAA,IAAaI,YAAAC,KAAAL,GACTP,EAAeM,QAAUO,SAASC,eAAe,gBACjDF,KAAKG,MAAS,KACdH,KAAKI,OAAS,KACdJ,KAAKK,OAAS,KACdL,KAAKM,cAAgB,KACrBN,KAAKO,UAAW,KAChBP,KAAKQ,SAAS,KACdR,KAAKS,gBAAkB,KACvBT,KAAKU,gBAAmB,KACxBV,KAAKW,QAAU,EACfX,KAAKY,QAAU,EACfZ,KAAKa,UAAU,KACfb,KAAKc,OAoLP,OAnLDC,YAAApB,EAAA,EAAAqB,IAAA,OAAAC,MAAA,WACK,IAAAC,EAAAlB,KACFA,KAAKW,QAAUvB,EAAeM,QAAQyB,YACtCnB,KAAKY,QAAUxB,EAAeM,QAAQ0B,aACtCpB,KAAKG,MAAU,IAAIkB,KAAY,eAC/BrB,KAAKI,OAAS,IAAIiB,IAAwB,GAAGrB,KAAKW,QAAQX,KAAKY,QAAQ,GAAG,KAC1EZ,KAAKI,OAAOkB,SAASC,IAAI,EAAE,EAAE,IAC7BvB,KAAKK,OAAS,IAAIgB,KAAoB,CAACG,OAAM,EAAKC,WAAU,EAAKC,uBAAsB,IAEvF1B,KAAKK,OAAOsB,iBAAiBN,KAC7BrB,KAAKK,OAAOuB,cAAcC,OAAOC,kBACjC9B,KAAKK,OAAO0B,cAAc,EAAS,GACnC/B,KAAKK,OAAO2B,QAAQhC,KAAKW,QAAQX,KAAKY,SACtCZ,KAAKK,OAAO4B,UAAUC,SAAQ,EAC9BlC,KAAKK,OAAO4B,UAAUE,KAAOd,IAC7BjC,EAAeM,QAAQ0C,YAAYpC,KAAKK,OAAOgC,YAC/CrC,KAAKsC,YACLtC,KAAKuC,YACLvC,KAAKwC,sBACLxC,KAAKK,OAAOoC,iBAAiB,kBAAIvB,EAAKwB,gBACtCb,OAAOc,iBAAiB,SAAS,WAC7BzB,EAAK0B,aAEZ,CAAA5B,IAAA,YAAAC,MAAA,WAEGjB,KAAKQ,SAAW,IAAIa,IAAuB,EAAS,GACpDrB,KAAKQ,SAASc,SAASC,IAAI,EAAE,EAAE,IAC/BvB,KAAKQ,SAASqC,OAAOC,QAAQC,MAAQ,IACrC/C,KAAKQ,SAASqC,OAAOC,QAAQE,OAAQ,IACrChD,KAAKQ,SAASqC,OAAOzC,OAAO6C,KAAK,GACjCjD,KAAKQ,SAASqC,OAAOzC,OAAO8C,IAAI,IAChClD,KAAKG,MAAMgD,IAAInD,KAAKQ,UAEpBR,KAAKS,gBAAkB,IAAIY,IAAsB,SAAS,EAAS,GACnErB,KAAKS,gBAAgBa,SAASC,IAAI,EAAE,GAAG,GACvCvB,KAAKG,MAAMgD,IAAInD,KAAKS,mBACvB,CAAAO,IAAA,sBAAAC,MAAA,WAEGjB,KAAKU,gBAAkB,IAAI0C,IAAcpD,KAAKI,OAAOJ,KAAKK,OAAOgC,YACjErC,KAAKU,gBAAgB2C,WAAY,EACjCrD,KAAKU,gBAAgB4C,YAAc,IACnCtD,KAAKU,gBAAgB6C,YAAc,IACnCvD,KAAKU,gBAAgB8C,SACrBxD,KAAKU,gBAAgBwB,SAAQ,IAChC,CAAAlB,IAAA,cAAAC,MAAA,WAEGjB,KAAKK,OAAOA,OAAOL,KAAKG,MAAMH,KAAKI,UAEtC,CAAAY,IAAA,SAAAC,MAAA,WAEGjB,KAAKW,QAAQvB,EAAeM,QAAQyB,YACpCnB,KAAKY,QAAQxB,EAAeM,QAAQ0B,aACpCpB,KAAKI,OAAOqD,OAASzD,KAAKW,QAAQX,KAAKY,QACvCZ,KAAKI,OAAOsD,yBACZ1D,KAAKK,OAAO2B,QAAQhC,KAAKW,QAAQX,KAAKY,WACzC,CAAAI,IAAA,YAAAC,MAAA,WACU,IAAA0C,EAAA3D,KACPA,KAAKO,UAAY,IAAIqD,IACrB5D,KAAKM,cAAgB,IAAIe,KACzB,IAAMwC,EAAe,IAAIxC,IAAoB,EAAE,GAAG,GAAG,IACrDrB,KAAK8D,SAAY,IAAIzC,IAAWwC,GAChC7D,KAAK8D,SAASC,KAAK,WACnB,IAAMC,EAAYhE,KAAKM,cAAc2D,KAAK,sBAC1CD,EAAQE,WAAa7C,KACrB,IAAM8C,EAAU,IAAI9C,IAAwB,CAAC+C,IAAIJ,IACjDG,EAAQE,WAAU,EAClBrE,KAAK8D,SAASQ,SAAWH,EACzBnE,KAAKG,MAAMgD,IAAInD,KAAK8D,UAEpB9D,KAAKO,UAAU0D,KAAK,iCAAiC,SAACM,GAClDZ,EAAK9C,UAAY0D,EAAKpE,MACtBwD,EAAK9C,UAAU2D,SAAS,SAACC,GAClBA,EAAMC,SAGLD,EAAME,eAAgB,EACnBF,EAAMV,KAAKa,SAAS,mBACnBH,EAAMI,SAAQ,IAEfJ,EAAMV,KAAKa,SAAS,WAAaH,EAAMV,KAAKa,SAAS,aACpDH,EAAMH,SAASF,IAAI,KACnBK,EAAMH,SAASQ,UAAU,MAE1BL,EAAMV,KAAKa,SAAS,mBACnBH,EAAMI,SAAQ,GAEfJ,EAAMV,KAAKa,SAAS,kBACnBH,EAAMI,SAAQ,GAElBE,QAAQC,IAAIP,EAAMV,SAG1BJ,EAAK9C,UAAUoE,MAAM1D,IAAI,EAAE,EAAE,IAC7BoC,EAAK9C,UAAUS,SAAS4D,EAAE,IAC1BvB,EAAKxD,MAAMgD,IAAIQ,EAAK9C,eAE3B,CAAAG,IAAA,cAAAC,MAAA,SACWkE,GACRnF,KAAKa,UAAU2D,SAAS,SAACC,GAClBA,EAAMC,SACFD,EAAMV,KAAKa,SAAS,kBACnBH,EAAMI,QAAQM,GAEfV,EAAMV,KAAKa,SAAS,mBACnBH,EAAMI,SAASM,GAEhBV,EAAMV,KAAKa,SAAS,WACnBH,EAAMI,QAAQM,QAK7B,CAAAnE,IAAA,eAAAC,MAAA,SACYmE,GACTpF,KAAKa,UAAU2D,SAAS,SAACC,GAClBA,EAAMC,SACFD,EAAMV,KAAKa,SAAS,mBACnBH,EAAMI,QAAQO,GAEfX,EAAMV,KAAKa,SAAS,kBACnBH,EAAMI,SAASO,QAI9B,CAAApE,IAAA,qBAAAC,MAAA,SACkBkE,EAAOE,GAAI,IAAAC,EAAAtF,KACpBgE,EAAWhE,KAAKM,cAAc2D,KAAKoB,GACzCrB,EAAQE,WAAa7C,KACrB2C,EAAQuB,MAAQlE,KAChB2C,EAAQwB,MAAQnE,KAChB2C,EAAQyB,UAAYpE,IACpB2C,EAAQ0B,UAAarE,IACrB2C,EAAQ2B,OAAOpE,IAAK,EAAG,GACvBvB,KAAKa,UAAU2D,SAAS,SAACC,GAClBA,EAAMC,SACDD,EAAMV,KAAKa,SAAS,WAAeH,EAAMV,KAAKa,SAAS,WACzDU,EAAKM,aAAanB,EAAMT,MAIjC/D,SAASC,eAAe,WAAWe,MAAQ,KAC9C,CAAAD,IAAA,sBAAAC,MAAA,SACmBoE,GAAI,IAAAQ,EAAA7F,KACfgE,EAAWhE,KAAKM,cAAc2D,KAAKoB,GACzCrB,EAAQE,WAAa7C,KACrB2C,EAAQuB,MAAQlE,KAChB2C,EAAQwB,MAAQnE,KAChB2C,EAAQyB,UAAYpE,IACpB2C,EAAQ0B,UAAarE,IACrB2C,EAAQ2B,OAAOpE,IAAK,EAAG,GACvBvB,KAAKa,UAAU2D,SAAS,SAACC,GAClBA,EAAMC,QACFD,EAAMV,KAAKa,SAAS,WACrBiB,EAAKD,aAAanB,EAAMT,KAIlC/D,SAASC,eAAe,WAAWe,MAAQ,KAC7C,CAAAD,IAAA,oBAAAC,MAAA,SACiB6E,EAAM3D,GACrBnC,KAAKa,UAAU2D,SAAS,SAACC,GAClBA,EAAMC,SACFD,EAAMV,KAAKa,SAAS,WAAoB,WAAPzC,GAChCsC,EAAMH,SAASwB,MAAQ,IAAIzE,IAAYyE,GACvCrB,EAAMH,SAASyB,UAAU,EACzBtB,EAAMH,SAAS0B,UAAW,GAEtBvB,EAAMV,KAAKa,SAAS,WAAoB,WAAPzC,IACrCsC,EAAMH,SAASwB,MAAQ,IAAIzE,IAAYyE,GACvCrB,EAAMH,SAASyB,UAAU,EACzBtB,EAAMH,SAAS0B,UAAW,QAIxC,CAAAhF,IAAA,eAAAC,MAAA,SACYwD,EAAMT,GAChBS,EAAMH,SAASF,IAAMJ,EACrBS,EAAMH,SAASF,IAAI6B,OAAQ,EAC3BxB,EAAMH,SAAS4B,aAAc,MAC/BvG,EAlMc,GA2QdE,EAAUsG,IAAOC,QAAOC,MAAAC,YAAA,8GC5RxBC,EAAM,CAAC,eAAe,eAAe,gBAAgB,eAAe,SAAS,UA8GpEC,EA7GJ,WAAM,IAAAC,EACYjH,IAAMkH,UAAS,GAAKC,EAAAC,YAAAH,EAAA,GAAtCtB,EAAMwB,EAAA,GAACE,EAAOF,EAAA,GAAAG,EACItH,IAAMkH,SAAS,GAAEK,EAAAH,YAAAE,EAAA,GAAnC3E,EAAI4E,EAAA,GAACC,EAAOD,EAAA,GAAAE,EACgBzH,IAAMkH,UAAS,GAAKQ,EAAAN,YAAAK,EAAA,GAAjCE,GAADD,EAAA,GAAUA,EAAA,IAEzBE,EAAiB,SAACjF,GAEhB0E,EADO,SAAR1E,GAIH9C,EAAUgI,YAAmB,SAAPlF,IAEpBmF,EAAkB,SAACnF,GAEjBgF,EADO,WAARhF,GAIH9C,EAAUkI,aAAoB,WAAPpF,IAyC3B,OACI3C,IAAAI,cAACC,EAAO,KACJL,IAAAI,cAAA,OAAK4H,UAAU,aAEPjB,EAAMnC,IAAI,SAACqD,EAAIC,GACV,OACOlI,IAAAI,cAAA,OAAK4H,UAAmB,IAARE,EAAU,mBAAmB,YAAa1G,IAAK0G,EAAOC,QAAS,SAACC,GACxEZ,EAAQU,GA9C1B,SAAChI,EAAQI,GAQvB,OAPgBG,SAAS4H,iBAAiB,WAClCC,QAAQ,SAACF,EAAEG,GACfH,EAAEI,UAAUC,OAAO,YAEvBvI,EAAQwI,OAAOF,UAAU7E,IAAI,UAC7BlD,SAASkI,uBAAuB,wBAAwB,GAAGC,MAAMC,IAAM,EAAK,IAAHvI,EAAO,MAChFG,SAASkI,uBAAuB,yBAAyB,GAAGC,MAAMC,IAAM,EAAK,IAAHvI,EAAO,MAC1EA,GACH,KAAK,EACDsH,EAAiB,QACjBnH,SAASkI,uBAAuB,wBAAwB,GAAGC,MAAME,QAAU,QAC3ErI,SAASkI,uBAAuB,yBAAyB,GAAGC,MAAME,QAAU,OAC5E,MACJ,KAAK,EACDlB,EAAiB,QACjBnH,SAASkI,uBAAuB,wBAAwB,GAAGC,MAAME,QAAU,QAC3ErI,SAASkI,uBAAuB,yBAAyB,GAAGC,MAAME,QAAU,OAC5E,MACJ,KAAK,EACDhB,EAAkB,UAClBrH,SAASkI,uBAAuB,wBAAwB,GAAGC,MAAME,QAAU,QAC3ErI,SAASkI,uBAAuB,yBAAyB,GAAGC,MAAME,QAAU,OAC5E,MACJ,KAAK,EACDhB,EAAkB,SAClBrH,SAASkI,uBAAuB,wBAAwB,GAAGC,MAAME,QAAU,QAC3ErI,SAASkI,uBAAuB,yBAAyB,GAAGC,MAAME,QAAU,OAC5E,MACJ,KAAK,EAIL,KAAK,EACDrI,SAASkI,uBAAuB,wBAAwB,GAAGC,MAAME,QAAU,OAC3ErI,SAASkI,uBAAuB,yBAAyB,GAAGC,MAAME,QAAU,SAYpDC,CAAYX,EAAEF,KAElBlI,IAAAI,cAAA,OAAK6H,IAAG,gBAAAe,OAAkBf,EAAG,QAAQgB,IAAKhB,QAMpEjI,IAAAI,cAAA,OAAK4H,UAAU,cACZhI,IAAAI,cAAA,OAAK4H,UAAU,wBACRhI,IAAAI,cAAA,SAAQ4H,UAAU,aAAarF,KAAK,OAAOuG,OAAO,oBAAoB5I,GAAG,UAAUiE,KAAK,aAAa4E,SAAU,SAACf,GAC5G,IAAMgB,EAAMC,IAAIC,gBAAgBlB,EAAEM,OAAOa,MAAM,IAC/C,OAAO5G,GACH,KAAK,EAAE,KAAK,EAEJ9C,EAAU2J,mBAAmB7D,EAAOyD,GACxC,MACJ,KAAK,EAAE,KAAK,EACJvJ,EAAU4J,oBAAoBL,OAK9CpJ,IAAAI,cAAA,SAAO4H,UAAU,cAAc0B,QAAQ,WAAW,WAEzD1J,IAAAI,cAAA,OAAK4H,UAAU,yBACRhI,IAAAI,cAAA,SAAQ4H,UAAU,cAAcrF,KAAK,QAASrC,GAAG,aAAaiE,KAAK,eAAe4E,SAAU,SAACf,GACzF,OAAOzF,GACH,KAAK,EACD9C,EAAU8J,kBAAkBvB,EAAEM,OAAOjH,MAAM,UAC3C,MACJ,KAAK,EACD5B,EAAU8J,kBAAkBvB,EAAEM,OAAOjH,MAAM,cAIvDzB,IAAAI,cAAA,SAAO4H,UAAU,cAAc0B,QAAQ,cAAc,aAQnErJ,EAAUsG,IAAOC,QAAOC,MAAAC,YAAA,89DCtGf8C,EATH,WAEV,OADArE,QAAQC,IAAI,cAERxF,IAAAI,cAAAJ,IAAA6J,SAAA,KACG7J,IAAAI,cAACN,EAAK,MACNE,IAAAI,cAAC4G,EAAE,QCGG8C,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxCC,EAAA7B,EAAA,GAAA8B,KAAAD,EAAAE,KAAA,UAAqBD,KAAK,SAAAE,GAAiD,IAA9CC,EAAMD,EAANC,OAAQC,EAAMF,EAANE,OAAQC,EAAMH,EAANG,OAAQC,EAAMJ,EAANI,OAAQC,EAAOL,EAAPK,QAC3DJ,EAAON,GACPO,EAAOP,GACPQ,EAAOR,GACPS,EAAOT,GACPU,EAAQV,MCDDW,IAASC,WAAWlK,SAASC,eAAe,SACpDG,OACHb,IAAAI,cAACJ,IAAM4K,WAAU,KACf5K,IAAAI,cAACwJ,EAAG,QAORE","file":"static/js/main.5ad07315.chunk.js","sourcesContent":["import React, { useRef } from 'react';\r\nimport styled from 'styled-components';\r\nimport * as THREE from 'three';\r\nimport {GLTFLoader} from 'three/examples/jsm/loaders/GLTFLoader';\r\nimport {OrbitControls} from 'three/examples/jsm/controls/OrbitControls';\r\nlet threeContainer;\r\nlet mShirtObj;\r\nconst Web3D = () => {\r\n    threeContainer = useRef(null);\r\n    React.useEffect(()=>{\r\n        if(threeContainer.current)\r\n            return;\r\n            mShirtObj = new Shirt3d();\r\n        // init3D();\r\n    },[])\r\n    return (\r\n        <Wrapper id='3d-container'></Wrapper>\r\n    );\r\n};\r\nexport default Web3D;\r\n\r\nexport class Shirt3d{\r\n    constructor(){\r\n        threeContainer.current = document.getElementById('3d-container');\r\n        this.scene  = null;\r\n        this.camera = null;\r\n        this.render = null;\r\n        this.textureLoader = null;\r\n        this.glbLoader= null;\r\n        this.dirLight=null;\r\n        this.hemiSphereLight = null;\r\n        this.orbitController  = null;\r\n        this.canvasW = 0;\r\n        this.canvasH = 0;\r\n        this.shirtRoot=null;\r\n        this.init();\r\n    }\r\n    init(){\r\n        this.canvasW = threeContainer.current.clientWidth;\r\n        this.canvasH = threeContainer.current.clientHeight;\r\n        this.scene   = new THREE.Scene(\"shirt_scene\");\r\n        this.camera = new THREE.PerspectiveCamera(60,this.canvasW/this.canvasH,.1,1000);\r\n        this.camera.position.set(0,0,10);\r\n        this.render = new THREE.WebGLRenderer({alpha:true,antialias:true,preserveDrawingBuffer:true});\r\n        // this.render.autoClear=false;\r\n        this.render.outputColorSpace=THREE.SRGBColorSpace;\r\n        this.render.setPixelRatio(window.devicePixelRatio);\r\n        this.render.setClearColor(0x000000,0);\r\n        this.render.setSize(this.canvasW,this.canvasH);\r\n        this.render.shadowMap.enabled=true;\r\n        this.render.shadowMap.type = THREE.PCFSoftShadowMap;\r\n        threeContainer.current.appendChild(this.render.domElement);\r\n        this.initLight();\r\n        this.loadAsset();\r\n        this.initOrbitController();\r\n        this.render.setAnimationLoop(()=>this.renderScene());\r\n        window.addEventListener(\"resize\",()=>{\r\n            this.resize();\r\n        })\r\n    }\r\n    initLight(){\r\n        this.dirLight = new THREE.DirectionalLight(0x000000,2);\r\n        this.dirLight.position.set(0,5,10);\r\n        this.dirLight.shadow.mapSize.width = 512;\r\n        this.dirLight.shadow.mapSize.height= 512;\r\n        this.dirLight.shadow.camera.near=.1;\r\n        this.dirLight.shadow.camera.far=1000;\r\n        this.scene.add(this.dirLight);\r\n\r\n        this.hemiSphereLight = new THREE.HemisphereLight(0xffffff,0x000000,2);\r\n        this.hemiSphereLight.position.set(0,10,0);\r\n        this.scene.add(this.hemiSphereLight);\r\n    }\r\n    initOrbitController(){\r\n        this.orbitController = new OrbitControls(this.camera,this.render.domElement);\r\n        this.orbitController.enablePan = false;\r\n        this.orbitController.minDistance = 8.5;\r\n        this.orbitController.maxDistance = 8.5;\r\n        this.orbitController.update();\r\n        this.orbitController.enabled=false;\r\n    }\r\n    renderScene(){\r\n        this.render.render(this.scene,this.camera);\r\n        \r\n    }\r\n    resize(){\r\n        this.canvasW=threeContainer.current.clientWidth;\r\n        this.canvasH=threeContainer.current.clientHeight;\r\n        this.camera.aspect = this.canvasW/this.canvasH;\r\n        this.camera.updateProjectionMatrix();\r\n        this.render.setSize(this.canvasW,this.canvasH);\r\n    }\r\n    loadAsset(){\r\n        this.glbLoader = new GLTFLoader();\r\n        this.textureLoader = new THREE.TextureLoader();\r\n        const planGeometry = new THREE.PlaneGeometry(6,10,32,32);\r\n        this.maleMesh  = new THREE.Mesh(planGeometry);\r\n        this.maleMesh.name=\"male_pos\";\r\n        const texture   = this.textureLoader.load(\"3dmodel/male_y.png\");\r\n        texture.colorSpace = THREE.SRGBColorSpace;\r\n        const maleMat = new THREE.MeshBasicMaterial({map:texture});\r\n        maleMat.alphaTest=true;\r\n        this.maleMesh.material = maleMat;\r\n        this.scene.add(this.maleMesh);\r\n\r\n        this.glbLoader.load(\"3dmodel/new/complete_shirt.glb\",(gltf)=>{\r\n            this.shirtRoot = gltf.scene;\r\n            this.shirtRoot.traverse((child)=>{\r\n                if(child.isMesh){\r\n                    // child.material.color = new THREE.Color(0xffffff);\r\n                    // child.material.depthTest=false;\r\n                    child.receiveShadow = true;\r\n                    if(child.name.includes(\"short_sleeves\")){\r\n                        child.visible=false;\r\n                    }\r\n                    if(child.name.includes(\"button\") || child.name.includes(\"thread\")){\r\n                        child.material.map=null;\r\n                        child.material.normalMap=null;\r\n                    }\r\n                    if(child.name.includes(\"normal_collar\")){\r\n                        child.visible=true;\r\n                    }\r\n                    if(child.name.includes(\"stand_collar\")){\r\n                        child.visible=false;\r\n                    }\r\n                    console.log(child.name);\r\n                }\r\n            });\r\n            this.shirtRoot.scale.set(2,2,.1);\r\n            this.shirtRoot.position.z=.05;\r\n            this.scene.add(this.shirtRoot);\r\n        })\r\n    }\r\n    changeShirt(isFull){\r\n        this.shirtRoot.traverse((child)=>{\r\n            if(child.isMesh){\r\n                if(child.name.includes(\"full_sleeves\")){\r\n                    child.visible=isFull;\r\n                }\r\n                if(child.name.includes(\"short_sleeves\")){\r\n                    child.visible=!isFull;\r\n                }\r\n                if(child.name.includes(\"cuffs\")){\r\n                    child.visible=isFull;\r\n                }\r\n                \r\n            }\r\n        });\r\n    }\r\n    changeCollar(isNormalCollar){\r\n        this.shirtRoot.traverse((child)=>{\r\n            if(child.isMesh){\r\n                if(child.name.includes(\"normal_collar\")){\r\n                    child.visible=isNormalCollar;\r\n                }\r\n                if(child.name.includes(\"stand_collar\")){\r\n                    child.visible=!isNormalCollar;\r\n                }\r\n            }\r\n        });\r\n    }\r\n    changeShirtTexture(isFull,tex){\r\n        const texture  = this.textureLoader.load(tex);\r\n        texture.colorSpace = THREE.SRGBColorSpace;\r\n        texture.wrapS = THREE.RepeatWrapping;\r\n        texture.wrapT = THREE.RepeatWrapping;\r\n        texture.magFilter = THREE.NearestFilter;\r\n        texture.minFilter  = THREE.NearestFilter;\r\n        texture.repeat.set( 1, 1);\r\n        this.shirtRoot.traverse((child)=>{\r\n            if(child.isMesh){\r\n                if(!child.name.includes(\"thread\")  && !child.name.includes(\"button\")){ //&& !child.name.includes(\"placket\")\r\n                  this.applyTexture(child,texture);\r\n                }\r\n            }\r\n         })\r\n         document.getElementById(\"my-file\").value = \"\";\r\n     } \r\n     changeCollarTexture(tex){\r\n        const texture  = this.textureLoader.load(tex);\r\n        texture.colorSpace = THREE.SRGBColorSpace;\r\n        texture.wrapS = THREE.RepeatWrapping;\r\n        texture.wrapT = THREE.RepeatWrapping;\r\n        texture.magFilter = THREE.NearestFilter;\r\n        texture.minFilter  = THREE.NearestFilter;\r\n        texture.repeat.set( 1, 1);\r\n        this.shirtRoot.traverse((child)=>{\r\n            if(child.isMesh){\r\n                if(child.name.includes(\"collar\")){\r\n                  this.applyTexture(child,texture);\r\n                }\r\n            }\r\n         })\r\n        document.getElementById(\"my-file\").value = \"\";\r\n     } \r\n     changeButtonColor(color,type){\r\n        this.shirtRoot.traverse((child)=>{\r\n            if(child.isMesh){\r\n                if(child.name.includes(\"button\") && type===\"button\"){\r\n                    child.material.color = new THREE.Color(color);\r\n                    child.material.metalness=0;\r\n                    child.material.roughness =1;\r\n                }\r\n                else if(child.name.includes(\"thread\") && type===\"thread\"){\r\n                    child.material.color = new THREE.Color(color);\r\n                    child.material.metalness=0;\r\n                    child.material.roughness =1;\r\n                }\r\n            }\r\n         })\r\n     } \r\n     applyTexture(child,texture){\r\n        child.material.map = texture;\r\n        child.material.map.flipY = false;\r\n        child.material.needsUpdate = true;\r\n     }\r\n}\r\n\r\n\r\nexport const changeTexture=(isFull,tex)=>{\r\n    //  if(isFull){\r\n    //     fullSleevShirt.traverse((child)=>{\r\n    //         if(child.isMesh){\r\n    //            const texture  = textureLoader.load(tex);\r\n    //             texture.colorSpace = THREE.SRGBColorSpace;\r\n    //             texture.wrapS = THREE.RepeatWrapping;\r\n    //             texture.wrapT = THREE.RepeatWrapping;\r\n    //             texture.magFilter = THREE.NearestFilter;\r\n    //             texture.minFilter  = THREE.NearestFilter;\r\n    //             texture.repeat.set( 1, 1);\r\n    //             child.material.map = texture;\r\n    //             child.material.map.flipY = false;\r\n    //             child.material.needsUpdate = true;\r\n    //         }\r\n    //    })\r\n    //  } \r\n    //  else{\r\n    //         shortShirt.traverse((child)=>{\r\n    //             if(child.isMesh){\r\n    //                 console.log(\"^^^^^^^^^^^^^\")\r\n    //                const texture  = textureLoader.load(tex);\r\n    //                texture.colorSpace = THREE.SRGBColorSpace;\r\n    //                texture.wrapS = THREE.RepeatWrapping;\r\n    //                texture.wrapT = THREE.RepeatWrapping;\r\n    //                texture.magFilter = THREE.NearestFilter;\r\n    //                texture.minFilter  = THREE.NearestFilter;\r\n    //                texture.repeat.set( 1, 1);\r\n    //                child.material.map = texture;\r\n    //                child.material.map.flipY = false;\r\n    //                child.material.needsUpdate = true;\r\n    //             }\r\n    //        })\r\n    //     } \r\n    //     document.getElementById(\"myFile\").value = \"\";\r\n      \r\n}\r\n const planeCurve=(g, z)=>{\r\n    let p = g.parameters;\r\n    let hw = p.width * 0.5;\r\n    \r\n    let a = new THREE.Vector2(-hw, 0);\r\n    let b = new THREE.Vector2(0, z);\r\n    let c = new THREE.Vector2(hw, 0);\r\n    \r\n    let ab = new THREE.Vector2().subVectors(a, b);\r\n    let bc = new THREE.Vector2().subVectors(b, c);\r\n    let ac = new THREE.Vector2().subVectors(a, c);\r\n    \r\n    let r = (ab.length() * bc.length() * ac.length()) / (2 * Math.abs(ab.cross(ac)));\r\n    \r\n    let center = new THREE.Vector2(0, z - r);\r\n    let baseV = new THREE.Vector2().subVectors(a, center);\r\n    let baseAngle = baseV.angle() - (Math.PI * 0.5);\r\n    let arc = baseAngle * 2;\r\n    \r\n    let uv = g.attributes.uv;\r\n    let pos = g.attributes.position;\r\n    let mainV = new THREE.Vector2();\r\n    for (let i = 0; i < uv.count; i++){\r\n        let uvRatio = 1 - uv.getX(i);\r\n      let y = pos.getY(i);\r\n      mainV.copy(c).rotateAround(center, (arc * uvRatio));\r\n      pos.setXYZ(i, mainV.x, y, -mainV.y);\r\n    }\r\n    \r\n    pos.needsUpdate = true;\r\n    \r\n  }\r\nconst Wrapper = styled.section`\r\n  width: 100%;\r\n  height: 100vh;\r\n  z-index: -1;\r\n  position: fixed;\r\n  background-color: #9BA4B5;\r\n`\r\n\r\nexport {mShirtObj};","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { mShirtObj } from './Web3D';\r\n\r\nconst uiBtn=[\"full_sleeves\",\"half_sleeves\",\"normal_collar\",\"stand_collar\",\"button\",\"thread\"];\r\nconst UI = () => {\r\n    const [isFull,setFull] = React.useState(true);\r\n    const [type,setType]   = React.useState(0);\r\n    const [isNormalCollar,setCollar] = React.useState(true);\r\n    \r\n    const onClickShirtType=(type)=>{\r\n        if(type ==='full')\r\n            setFull(true);\r\n        else    \r\n            setFull(false);\r\n        mShirtObj.changeShirt(type==='full'?true:false);\r\n    }\r\n    const onClickCollarType=(type)=>{\r\n        if(type ==='normal')\r\n            setCollar(true);\r\n        else    \r\n            setCollar(false);\r\n        mShirtObj.changeCollar(type==='normal'?true:false);\r\n    }\r\n    const onClickIcon=(current,id)=>{\r\n        const buttons = document.querySelectorAll('.active');\r\n        buttons.forEach((e,i)=>{\r\n            e.classList.remove('active');\r\n        })\r\n        current.target.classList.add('active');\r\n        document.getElementsByClassName('file-input-container')[0].style.top = 2+id*5.2+\"rem\";\r\n        document.getElementsByClassName('color-input-container')[0].style.top = 2+id*5.2+\"rem\";\r\n        switch(id){\r\n            case 0:\r\n                onClickShirtType(\"full\");\r\n                document.getElementsByClassName('file-input-container')[0].style.display = \"block\";\r\n                document.getElementsByClassName('color-input-container')[0].style.display = \"none\";\r\n                break;\r\n            case 1:\r\n                onClickShirtType(\"half\");\r\n                document.getElementsByClassName('file-input-container')[0].style.display = \"block\";\r\n                document.getElementsByClassName('color-input-container')[0].style.display = \"none\";\r\n                break;\r\n            case 2:\r\n                onClickCollarType(\"normal\");\r\n                document.getElementsByClassName('file-input-container')[0].style.display = \"block\";\r\n                document.getElementsByClassName('color-input-container')[0].style.display = \"none\";\r\n                break;\r\n            case 3:\r\n                onClickCollarType(\"stand\");\r\n                document.getElementsByClassName('file-input-container')[0].style.display = \"block\";\r\n                document.getElementsByClassName('color-input-container')[0].style.display = \"none\";\r\n                break;\r\n            case 4:\r\n                document.getElementsByClassName('file-input-container')[0].style.display = \"none\";\r\n                document.getElementsByClassName('color-input-container')[0].style.display = \"block\";\r\n                break;\r\n            case 5:\r\n                document.getElementsByClassName('file-input-container')[0].style.display = \"none\";\r\n                document.getElementsByClassName('color-input-container')[0].style.display = \"block\";\r\n                break;\r\n        }\r\n    }\r\n    return (\r\n        <Wrapper>\r\n            <div className='container'>\r\n                {\r\n                    uiBtn.map((src,index)=>{\r\n                         return(\r\n                                <div className={index===0?'img-icons active':'img-icons'} key={index} onClick={(e)=>{\r\n                                        setType(index);\r\n                                        onClickIcon(e,index);\r\n                                }} >\r\n                                    <img src={`./3dmodel/ui/${src}.png`} alt={src} />\r\n                                </div>\r\n                          )\r\n                     })\r\n                }\r\n         </div> \r\n          <div className='container2'>\r\n             <div className='file-input-container'>\r\n                    <input  className='file-input' type=\"file\" accept=\".jpg, .jpeg, .png\" id=\"my-file\" name=\"shirt_name\" onChange={(e)=>{\r\n                        const url = URL.createObjectURL(e.target.files[0]);\r\n                        switch(type){\r\n                            case 0:case 1:\r\n                                // console.log(\"%%%%%%%\")\r\n                                    mShirtObj.changeShirtTexture(isFull,url);\r\n                                break;\r\n                            case 2:case 3:\r\n                                    mShirtObj.changeCollarTexture(url);\r\n                                break;\r\n                        }\r\n                        \r\n                    }}/>\r\n                    <label className='input-label' htmlFor=\"my-file\" >upload</label>\r\n             </div>\r\n             <div className='color-input-container'>\r\n                    <input  className='color-input' type='color'  id=\"color-pick\" name=\"color-change\" onChange={(e)=>{\r\n                        switch(type){\r\n                            case 4: \r\n                                mShirtObj.changeButtonColor(e.target.value,\"button\");\r\n                                break;    \r\n                            case 5:\r\n                                mShirtObj.changeButtonColor(e.target.value,\"thread\");\r\n                                break;    \r\n                        }\r\n                    }}/>\r\n                    <label className='input-label' htmlFor=\"color-pick\" >Color</label>\r\n             </div>\r\n         </div>\r\n        </Wrapper>\r\n    );\r\n    \r\n};\r\nexport default UI;\r\nconst Wrapper = styled.section`\r\n    position: absolute;\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: row-reverse;\r\n    pointer-events: none;\r\n    .container{\r\n        pointer-events: all;\r\n        display: flex;\r\n        gap: 1rem;\r\n        padding: 1rem;\r\n        user-select: none;\r\n        flex-direction: column;\r\n        .img-icons{\r\n            width: 4rem;\r\n            cursor: pointer;\r\n            /* outline: #213555 solid; */\r\n            img{\r\n                padding: 0%;\r\n                margin: 0%;\r\n                width: 100%;\r\n                text-align: center;\r\n            }\r\n        }\r\n        .active{\r\n            outline: aliceblue solid;\r\n        }\r\n    }\r\n    .container2{\r\n        display: flex;\r\n        flex-direction: column;\r\n        padding: 1rem;\r\n        margin-top: 1.5rem;\r\n        pointer-events: all;\r\n        gap: 2rem;\r\n        .file-input-container{\r\n            position: absolute;     \r\n            right: 6rem;\r\n            top: 2rem;\r\n            .file-input{\r\n                width: 0;\r\n                height: 0;\r\n                padding: 0%;\r\n                margin: 0%;\r\n                overflow: hidden;\r\n            }\r\n        }\r\n        .color-input-container{\r\n            position: absolute;     \r\n            right: 6rem;\r\n            top: 2rem;\r\n            display: none;\r\n            .color-input{\r\n                width: 4rem;\r\n                height: 2rem;\r\n                margin-right: .5rem;\r\n            }\r\n        }\r\n        .input-label{\r\n            padding: .5rem 1.5rem;\r\n            font-size: 1.2rem;\r\n            user-select: none;\r\n            background-color:#213555;\r\n            color: aliceblue;\r\n            border-radius: 10px;\r\n            cursor: pointer;\r\n            display: inline-block;\r\n            text-transform: capitalize;\r\n            transition: all .4s;\r\n            outline: 1px solid #DDE6ED;\r\n            &:hover{\r\n                background-color:#DDE6ED;\r\n                color:#213555;\r\n            }\r\n        }\r\n    }\r\n`","import React from 'react';\nimport UI from './component/UI';\nimport Web3D from './component/Web3D';\n\nconst App = () => {\n  console.log(\"##########\")\n  return (\n      <>\n         <Web3D/>\n         <UI/>\n      </>\n  );\n};\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}